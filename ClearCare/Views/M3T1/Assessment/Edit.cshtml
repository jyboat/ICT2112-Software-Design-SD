@model ClearCare.Models.Entities.M3T1.Assessment

<h2>Edit Assessment</h2>

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">
        @TempData["ErrorMessage"]
    </div>
}

<form method="post" asp-action="">
    <!-- Hidden field to pass the ID -->
    <input type="hidden" name="id" value="@Model.GetId()" />

    <div class="form-group">
        <label for="riskLevel">Risk Level</label>
        <input type="text" class="form-control" id="riskLevel" name="riskLevel" value="@Model.GetRiskLevel()" required />
    </div>

    <div class="form-group">
        <label for="recommendation">Recommendation</label>
        <textarea class="form-control" id="recommendation" name="recommendation" rows="4" required>@Model.GetRecommendation()</textarea>
    </div>

    <div class="form-group">
        <label for="dateCreated">Date Created</label>
        <input type="date" class="form-control" id="dateCreated" name="dateCreated" value="@Model.GetCreatedAt().ToString("yyyy-MM-dd")" required />
    </div>

    <div class="form-group">
        <label for="imageUrls">Image URLs (optional)</label>
        <input type="text" class="form-control" id="imageUrls" name="imageUrls" 
               value="@string.Join(",", Model.GetImagePath() ?? new List<string>())" 
               placeholder="Separate with commas" />
    </div>

    <button type="submit" class="btn btn-success">Save Changes</button>
</form>

<a asp-action="List" class="btn btn-secondary">Back to List</a>
